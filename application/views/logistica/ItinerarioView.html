	
<loading></loading>

<div ng-hide="loading" class="ng-hide cartao"> 
 	<table class="table table-striped table-bordered table-responsive">
	 	<thead>
	      	<tr>
	      		<th class="col-xs-2">
	      			<label style="cursor: pointer;" ng-click="sortField=id; reverse= !reverse;">C&oacute;d</label>
	      			<span ng-show="sortField=='id' && !reverse" class="glyphicon glyphicon-sort-by-attributes sortIcon" aria-hidden="true"></span>
	      			<span ng-show="sortField=='id' && reverse" class="glyphicon glyphicon-sort-by-attributes-alt sortIcon" aria-hidden="true"></span>
	      		</th>
	       	 	<th class="col-xs-4">
	        		<label style="cursor: pointer;" ng-click="sortField='origem_descricao'; reverse= !reverse;">Origem</label>
	        		<span ng-show="sortField=='origem_descricao' && !reverse" class="glyphicon glyphicon-sort-by-attributes sortIcon" aria-hidden="true"></span>
	      			<span ng-show="sortField=='origem_descricao' && reverse" class="glyphicon glyphicon-sort-by-attributes-alt sortIcon" aria-hidden="true"></span>
	        	</th>
	        	<th class="col-xs-4">
	        		<label style="cursor: pointer;" ng-click="sortField='destino_descricao'; reverse= !reverse;">Destino</label>
	        		<span ng-show="sortField=='destino_descricao' && !reverse" class="glyphicon glyphicon-sort-by-attributes sortIcon" aria-hidden="true"></span>
	      			<span ng-show="sortField=='destino_descricao' && reverse" class="glyphicon glyphicon-sort-by-attributes-alt sortIcon" aria-hidden="true"></span>
	        	</th>
	        	<th class="col-xs-2 text-center">
					<button type="button" class="btn btn-default" aria-label="Cadastrar" ng-click="formulario()">
	       				<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
	       			</button>
	       		</th>
	      	</tr>
	   	</thead>
	    <tbody>
	      	<tr dir-paginate="i in itinerarios | orderBy:sortField:reverse | itemsPerPage: 10">
	       		<td>{{i.id}}</td>
	       		<td>{{i.origem_descricao}}</td>
	       		<td>{{i.destino_descricao}}</td>
	       		<td class="text-center">
	       			<button type="button" class="btn btn-default" aria-label="Editar" ng-click="formulario(i)">
	       				<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
	       			</button>
	       		</td>
	      	</tr>
	    </tbody>
	</table>
	<dir-pagination-controls></dir-pagination-controls>
</div>

<div class="modal fade" id="modal_itinerario" role="dialog">
	<div class="modal-dialog">
 		<div class="modal-content">
    		
    		<div class="modal-header">
       		 	<button type="button" class="close" data-dismiss="modal">&times;</button>
       			<h4 class="modal-title">Itiner&aacute;rio</h4>
      		</div>
      		
      		<div class="modal-body">
        		<form name="formItinerario" class="form-horizontal" style="margin-right: 10px; margin-left: 10px;" novalidate>
			    	
			      	<div class="form-group" show-errors>
					    <label class="col-xs-12 control-label" style="text-align: left;">Origem</label>
					    <div class="col-xs-3" style="padding-right: 0px; padding-left: 0px;">
					    	<input ng-model="itinerario.origem_id" name="origem" ng-change="buscarOrigem()" placeholder="C&oacute;d." required class="form-control" type="text">
					    </div>
					    <div class="col-xs-7" style="padding-right: 0px; padding-left: 0px;">
					    	<input ng-model="itinerario.origem_descricao" placeholder="Descri&ccedil;&atilde;o" class="form-control" type="text" disabled>
					    </div>
					    <div class="col-xs-1" style="padding-left: 0px;">
					    	<a class="btn btn-default" ng-click="buscarOrigemForeignReference()"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a>
						</div>
						<p class="help-block" ng-if="formItinerario.origem.$error.required">Origem obrigat&oacute;ria</p>
				    </div>
				    
   			      	<div class="form-group" show-errors>
					    <label class="col-xs-12 control-label" style="text-align: left;">Destino</label>
					    <div class="col-xs-3" style="padding-right: 0px; padding-left: 0px;">
					    	<input ng-model="itinerario.destino_id" name="destino" ng-change="buscarDestino()" placeholder="C&oacute;d." required class="form-control" type="text">
					    </div>
					    <div class="col-xs-7" style="padding-right: 0px; padding-left: 0px;">
					    	<input ng-model="itinerario.destino_descricao" placeholder="Descri&ccedil;&atilde;o" class="form-control" type="text" disabled>
					    </div>
					    <div class="col-xs-1" style="padding-left: 0px;">
					    	<a class="btn btn-default" ng-click="buscarDestinoForeignReference()"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a>
						</div>
						<p class="help-block" ng-if="formItinerario.destino.$error.required">Destino obrigat&oacute;rio</p>
				    </div>
      		</div>
      		
      		<div class="modal-footer">
      			<button class="btn btn-primary" ng-disabled="formItinerario.$invalid" ng-click="salvar()">Salvar</button>
      		</div>
    	</div>
  	</div>
</div>

